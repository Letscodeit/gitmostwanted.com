{% extends "layout.html" %}

{% block body %}
  <dl class="sub-nav">
    {% for r in ['day', 'week', 'month'] %}
      <dd {{ 'class=active' if range == r }}>
        <a href="{{ url_for('index', rng=r) }}">{{ r|capitalize() }}</a>
      </dd>
    {% endfor %}
  </dl>

  <div class="row" id="gh-entries">
    <div class="small-12 columns">
      <ul class="small-block-grid-1 medium-block-grid-1 large-block-grid-3">
        {% for (entry, attitude) in entries %}
          <li data-url="{{ entry.repo.html_url }}">
            <div>
              <h4>
                <a href="{{ entry.repo.html_url }}" target="_blank">{{ entry.repo.full_name }}</a>
                {% if entry.repo.language %}
                  <small class="right">{{ entry.repo.language }}</small>
                {% endif %}
              </h4>

              <p>{{ entry.repo.description }}</p>

              {% if g.user %}
                <a href="{{ url_for('user_attitude.change', repo_id=entry.repo.id, attitude='like') }}"
                  class="label attitude {{ 'success' if attitude == 'like' else 'secondary' }}"
                  title="Great"><i class="fi-like"></i></a>
                <a href="{{ url_for('user_attitude.change', repo_id=entry.repo.id, attitude='dislike') }}"
                  class="label attitude {{ 'alert' if attitude == 'dislike' else 'secondary' }}"
                  title="Useless"><i class="fi-dislike"></i></a>
              {% endif %}

              <div class="right">
                <span class="label secondary">
                  +{{ entry.cnt_watch }} <i class="fi-star"></i>
                </span>
              </div>
            </div>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
{% endblock %}
